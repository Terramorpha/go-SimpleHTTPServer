fixed the EOF when opening files less than 512 bytes in size